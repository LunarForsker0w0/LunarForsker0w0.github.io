<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>–î–æ –Ω–∞—à–µ–π –≤—Å—Ç—Ä–µ—á–∏ üí´</title>

<!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤—ã—Å–æ—Ç–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö -->
<script>
  function setAppHeight() {
    const appHeight = window.innerHeight;
    document.documentElement.style.setProperty('--app-height', `${appHeight}px`);
  }
  setAppHeight();
  window.addEventListener('resize', setAppHeight);
  window.addEventListener('orientationchange', () => setTimeout(setAppHeight, 100));
</script>

<style>
* { box-sizing: border-box; margin: 0; padding: 0; }

/* –ü–æ–ª–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∫—Ä–æ–ª–ª–∞ + —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
html, body {
  overflow: hidden !important;
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  width: 100%;
  height: var(--app-height, 100vh);
  font-family: 'Segoe UI', sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background: linear-gradient(135deg, #9d81ba, #4b0066);
  color: white;
  user-select: none;
  touch-action: none; /* –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–∞–Ω-–∂–µ—Å—Ç—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
}

h1 { font-size:1.8em; margin-bottom:10px; position:relative; z-index:1; }
.countdown { font-size:2.2em; font-weight:bold; letter-spacing:1px; position:relative; z-index:1; }
.label { font-size:0.9em; opacity:0.7; position:relative; z-index:1; margin-bottom:15px; }

.bg-element { position:absolute; border-radius:15px; pointer-events:none; }
.square { background: rgba(255,255,255,0.1); animation: floatSquare linear infinite alternate; }
@keyframes floatSquare { from{transform:translateY(0) translateX(0); opacity:0.05;} to{transform:translateY(-20px) translateX(20px); opacity:0.15;} }

.heart-bg { font-size:30px; color: rgba(255,100,150,0.3); animation: floatHeart linear infinite alternate; }
@keyframes floatHeart { from{transform:translateY(0) translateX(0) rotate(0deg); opacity:0.3;} to{transform:translateY(-30px) translateX(20px) rotate(20deg); opacity:0.6;} }

.particle { width:3px; height:3px; background:rgba(255,255,255,0.5); border-radius:50%; position:absolute; pointer-events:none; animation: floatParticle linear infinite; }
@keyframes floatParticle { from{transform:translateY(0); opacity:0.3;} to{transform:translateY(-50px); opacity:0;} }

.heart-click { position:absolute; font-size:20px; color:rgba(255,50,150,0.8); pointer-events:none; }
.sun, .moon { position:absolute; width:60px; height:60px; border-radius:50%; z-index:0; transition: opacity 2s linear; }
.sun { background: radial-gradient(circle, #FFD700, #FFA500); box-shadow:0 0 50px 20px rgba(255,223,0,0.4);}
.moon { background: radial-gradient(circle, #EEEEFF, #AAAAFF); box-shadow:0 0 40px 15px rgba(200,200,255,0.3); }

.main-heart { font-size:50px; animation:pulse 1.5s infinite; margin-bottom:10px; position:relative; z-index:1; }
@keyframes pulse { 0%{transform:scale(1);} 50%{transform:scale(1.2);} 100%{transform:scale(1);} }

#toggleSlider {
  position: fixed;
  top: 10px;
  right: 10px;
  z-index: 1000;
  width: 35px;
  height: 35px;
  background: rgba(255,255,255,0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
#toggleSlider:hover { background: rgba(255,255,255,0.35); }
#toggleSlider span { font-size:18px; color:white; }

#sliderContainer {
  position: fixed;
  bottom: 10px;
  left: 5%;
  width: 90%;
  z-index: 1000;
  text-align: center;
  visibility: hidden;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}
#sliderContainer.visible {
  visibility: visible;
  opacity: 1;
  pointer-events: auto;
}
#timeSlider { width: 100%; }
#timeLabel { color: white; margin-top: 5px; font-size: 0.9em; }

.heart-piece { position: absolute; font-size: 35px; cursor: pointer; transition: transform 0.2s; }
</style>
</head>
<body>

<h1>–î–æ –Ω–∞—à–µ–π –≤—Å—Ç—Ä–µ—á–∏ –æ—Å—Ç–∞–ª–æ—Å—å:</h1>
<div class="main-heart">‚ù§Ô∏è</div>
<div class="countdown" id="timer">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
<div class="label">10 –æ–∫—Ç—è–±—Ä—è 2026</div>

<div class="sun"></div>
<div class="moon"></div>

<div id="toggleSlider"><span>üëÅÔ∏è</span></div>
<div id="sliderContainer">
  <input type="range" min="0" max="23.99" step="0.01" id="timeSlider">
  <div id="timeLabel">–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: --:--</div>
</div>

<script>
// -------------------- –¢–∞–π–º–µ—Ä --------------------
function updateCountdown(){
  const target = new Date('2026-10-10T00:00:00');
  const now = new Date();
  const diff = target - now;
  if(diff <= 0){ 
    document.getElementById('timer').innerText = "–°–µ–≥–æ–¥–Ω—è üíñ"; 
    return; 
  }
  const d = Math.floor(diff / (1000 * 60 * 60 * 24));
  const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
  const m = Math.floor((diff / (1000 * 60)) % 60);
  const s = Math.floor((diff / 1000) % 60);
  document.getElementById('timer').innerText = `${d}–¥ ${h}—á ${m}–º ${s}—Å`;
}
setInterval(updateCountdown, 1000);
updateCountdown();

// -------------------- –§–æ–Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã --------------------
function createSquares(n){
  for(let i = 0; i < n; i++){
    const sq = document.createElement('div');
    sq.classList.add('bg-element','square');
    const size = 20 + Math.random() * 60;
    sq.style.width = sq.style.height = size + 'px';
    sq.style.top = Math.random() * (window.innerHeight - size) + 'px';
    sq.style.left = Math.random() * (window.innerWidth - size) + 'px';
    sq.style.animationDuration = (8 + Math.random() * 5) + 's';
    sq.style.opacity = 0.05 + Math.random() * 0.15;
    document.body.appendChild(sq);
  }
}
function createHearts(n){
  for(let i = 0; i < n; i++){
    const h = document.createElement('div');
    h.classList.add('bg-element','heart-bg');
    h.innerText = '‚ù§Ô∏è';
    const size = 20 + Math.random() * 30;
    h.style.fontSize = size + 'px';
    h.style.top = Math.random() * (window.innerHeight - size) + 'px';
    h.style.left = Math.random() * (window.innerWidth - size) + 'px';
    h.style.animationDuration = (5 + Math.random() * 7) + 's';
    h.style.opacity = 0.3 + Math.random() * 0.3;
    document.body.appendChild(h);
  }
}
function createParticles(n){
  for(let i = 0; i < n; i++){
    const p = document.createElement('div');
    p.classList.add('particle');
    p.style.top = Math.random() * (window.innerHeight - 3) + 'px';
    p.style.left = Math.random() * (window.innerWidth - 3) + 'px';
    p.style.animationDuration = (5 + Math.random() * 5) + 's';
    document.body.appendChild(p);
  }
}
createSquares(10);
createHearts(12);
createParticles(50);

// -------------------- –†–∞–∑–ª–µ—Ç–∞—é—â–∏–µ—Å—è —Å–µ—Ä–¥–µ—á–∫–∏ --------------------
function createClickHearts(x, y){
  for(let i = 0; i < 15; i++){
    const h = document.createElement('div');
    h.classList.add('heart-click');
    h.innerText = '‚ù§Ô∏è';
    const size = 15 + Math.random() * 25;
    h.style.fontSize = size + 'px';
    h.style.left = x + 'px';
    h.style.top = y + 'px';
    document.body.appendChild(h);
    const dx = (Math.random() - 0.5) * 200;
    const dy = (Math.random() - 0.5) * 200;
    const dur = 1000 + Math.random() * 1000;
    h.animate([
      { transform: 'translate(0,0)', opacity: 1 },
      { transform: `translate(${dx}px, ${dy}px)`, opacity: 0 }
    ], { duration: dur, easing: 'ease-out', fill: 'forwards' });
    setTimeout(() => h.remove(), dur);
  }
}
document.body.addEventListener('click', e => createClickHearts(e.clientX, e.clientY));
document.body.addEventListener('touchstart', e => {
  const t = e.touches[0];
  createClickHearts(t.clientX, t.clientY);
}, { passive: false });

// -------------------- –°–æ–ª–Ω—Ü–µ –∏ –õ—É–Ω–∞ --------------------
const sun = document.querySelector('.sun');
const moon = document.querySelector('.moon');
const slider = document.getElementById('timeSlider');
const timeLabel = document.getElementById('timeLabel');
const toggleBtn = document.getElementById('toggleSlider');
const sliderContainer = document.getElementById('sliderContainer');
let manualTime = null;

toggleBtn.addEventListener('click', () => {
  sliderContainer.classList.toggle('visible');
});

slider.addEventListener('input', () => {
  manualTime = parseFloat(slider.value);
  updateSunMoon();
});

function updateSunMoon(){
  const now = new Date();
  const hours = manualTime !== null ? manualTime : now.getHours() + now.getMinutes() / 60;

  timeLabel.innerText = `–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: ${Math.floor(hours)}:${Math.floor((hours % 1) * 60).toString().padStart(2, '0')}`;

  sun.style.opacity = (hours >= 6 && hours <= 18) ? 1 : 0;
  moon.style.opacity = (hours < 6 || hours > 18) ? 1 : 0;

  const sunY = (hours >= 6 && hours <= 18)
    ? 50 - 50 * Math.cos(((hours - 6) / 12) * Math.PI)
    : 150;
  const moonY = (hours < 6)
    ? 50 - 50 * Math.cos(((hours + 6) / 12) * Math.PI)
    : (hours > 18)
      ? 50 - 50 * Math.cos(((hours - 18) / 12) * Math.PI)
      : 150;
  sun.style.top = sunY + '%';
  moon.style.top = moonY + '%';

  const dayColor = hexToRgb('#9d81ba');
  const sunsetColor = hexToRgb('#ba8181');
  const nightColor = hexToRgb('#22182c');
  const nightEnd = hexToRgb('#3b1f4d');
  let bgColor;
  if (hours >= 6 && hours < 15) {
    const t = (hours - 6) / 9;
    bgColor = blendColors(dayColor, sunsetColor, t);
  } else if (hours >= 15 && hours < 18) {
    const t = (hours - 15) / 3;
    bgColor = blendColors(sunsetColor, nightColor, t);
  } else if (hours >= 18) {
    const t = (hours - 18) / 12;
    bgColor = blendColors(nightColor, nightEnd, t);
  } else {
    const t = hours / 6;
    bgColor = blendColors(nightEnd, dayColor, t);
  }
  document.body.style.background = `linear-gradient(135deg, rgb(${bgColor.join(',')}), #4b0066)`;
}

setInterval(updateSunMoon, 1000);
updateSunMoon();

function hexToRgb(hex) {
  return hex.match(/\w\w/g).map(c => parseInt(c, 16));
}
function lerp(a, b, t) {
  return a + (b - a) * t;
}
function blendColors(c1, c2, t) {
  return c1.map((v, i) => Math.round(lerp(v, c2[i], t)));
}

// -------------------- –ú–∏–Ω–∏-–∏–≥—Ä–∞ "–°–æ–±–µ—Ä–∏ —Ä–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–µ —Å–µ—Ä–¥—Ü–∞" --------------------
const heartContainer = document.createElement('div');
document.body.appendChild(heartContainer);
let pieces = [];
const pieceCount = 4;
const heartColors = ['#FF6B6B','#FFB86B','#FF6FFF','#6BFFB8','#6B9EFF'];
const starColors = ['#FFD700','#FFFF66','#FF66FF','#66FFFF','#FF99FF'];

function spawnHeartPuzzle(){
  pieces.forEach(p => p.el.remove());
  pieces = [];
  for(let i = 0; i < pieceCount; i++){
    const p = document.createElement('div');
    p.classList.add('heart-piece');
    p.innerText = '‚ù§Ô∏è';
    p.style.color = heartColors[Math.floor(Math.random() * heartColors.length)];
    const x = 50 + Math.random() * (window.innerWidth - 100);
    const y = 50 + Math.random() * (window.innerHeight - 100);
    p.style.left = x + 'px';
    p.style.top = y + 'px';
    heartContainer.appendChild(p);
    pieces.push({ el: p, connected: [i], x: x, y: y });
    makeDraggable(p, i);
  }
}

function makeDraggable(el, index){
  let startX = 0, startY = 0, originalX = 0, originalY = 0, dragging = false;
  const pieceData = pieces[index];

  function startDrag(e){
    e.preventDefault();
    dragging = true;
    const t = e.touches ? e.touches[0] : e;
    startX = t.clientX; startY = t.clientY;
    originalX = pieceData.x; originalY = pieceData.y;
    el.style.zIndex = 1000;
    el.style.transform = 'scale(1.1)';
  }

  function drag(e){
    if (!dragging) return;
    e.preventDefault();
    const t = e.touches ? e.touches[0] : e;
    const dx = t.clientX - startX;
    const dy = t.clientY - startY;
    el.style.transform = `translate(${dx}px, ${dy}px) scale(1.1)`;
    pieceData.x = originalX + dx;
    pieceData.y = originalY + dy;
  }

  function stopDrag(){
    if (!dragging) return;
    dragging = false;
    el.style.zIndex = '';
    el.style.left = pieceData.x + 'px';
    el.style.top = pieceData.y + 'px';
    el.style.transform = '';
    checkConnection(index);
  }

  el.addEventListener('mousedown', startDrag);
  el.addEventListener('touchstart', startDrag, { passive: false });
  document.addEventListener('mousemove', drag);
  document.addEventListener('touchmove', drag, { passive: false });
  document.addEventListener('mouseup', stopDrag);
  document.addEventListener('touchend', stopDrag);
}

function checkConnection(idx){
  const threshold = 40;
  const current = pieces[idx];
  pieces.forEach((p, i) => {
    if (i === idx || current.connected.includes(i)) return;
    const dx = p.x - current.x;
    const dy = p.y - current.y;
    if (Math.hypot(dx, dy) < threshold) {
      const midX = current.x + dx / 2;
      const midY = current.y + dy / 2;
      current.x = midX; current.y = midY;
      p.x = midX; p.y = midY;
      current.el.style.left = midX + 'px';
      current.el.style.top = midY + 'px';
      p.el.style.left = midX + 'px';
      p.el.style.top = midY + 'px';
      const combinedSet = Array.from(new Set([...current.connected, ...p.connected]));
      pieces.forEach(piece => {
        if (combinedSet.includes(pieces.indexOf(piece))) {
          piece.connected = combinedSet;
        }
      });
    }
  });
  if (current.connected.length === pieceCount) {
    const centerX = current.x, centerY = current.y;
    pieces.forEach(p => p.el.remove());
    for (let i = 0; i < 30; i++) {
      const star = document.createElement('div');
      star.classList.add('heart-click');
      star.innerText = '‚≠ê';
      star.style.fontSize = (10 + Math.random() * 20) + 'px';
      star.style.color = starColors[Math.floor(Math.random() * starColors.length)];
      star.style.left = centerX + 'px';
      star.style.top = centerY + 'px';
      document.body.appendChild(star);
      const dx = (Math.random() - 0.5) * 200;
      const dy = (Math.random() - 0.5) * 200;
      const dur = 1000 + Math.random() * 1000;
      star.animate([
        { transform: 'translate(0,0)', opacity: 1 },
        { transform: `translate(${dx}px, ${dy}px)`, opacity: 0 }
      ], { duration: dur, easing: 'ease-out', fill: 'forwards' });
      setTimeout(() => star.remove(), dur);
    }
    setTimeout(spawnHeartPuzzle, 1000);
  }
}
spawnHeartPuzzle();
</script>
</body>
</html>











