<!DOCTYPE html>
<html lang="ru">
<head>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&display=swap" rel="stylesheet">
<link rel="manifest" href="data:application/manifest+json,{
  %22name%22:%22–î–æ –Ω–∞—à–µ–π –≤—Å—Ç—Ä–µ—á–∏%22,
  %22short_name%22:%22–í—Å—Ç—Ä–µ—á–∞%22,
  %22start_url%22:%22./Test.txt%22,
  %22display%22:%22standalone%22,
  %22background_color%22:%22%234b0066%22,
  %22theme_color%22:%22%22%239d81ba%22,
  %22icons%22:[{
    %22src%22:%22data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90' text-anchor='middle'%3Eüíå%3C/text%3E%3C/svg%3E%22,
    %22sizes%22:%22192x192%22,
    %22type%22:%22image/svg+xml%22
  }]
}">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="–î–æ –Ω–∞—à–µ–π –≤—Å—Ç—Ä–µ—á–∏">
<link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90' text-anchor='middle'%3Eüíå%3C/text%3E%3C/svg%3E">

<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 font-size=%22100%22>‚ù§Ô∏è</text></svg>">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>–î–æ –Ω–∞—à–µ–π –≤—Å—Ç—Ä–µ—á–∏ üí´</title>

<!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤—ã—Å–æ—Ç–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö -->
<script>
  function setAppHeight() {
    const appHeight = window.innerHeight;
    document.documentElement.style.setProperty('--app-height', `${appHeight}px`);
  }
  setAppHeight();
  window.addEventListener('resize', setAppHeight);
  window.addEventListener('orientationchange', () => setTimeout(setAppHeight, 100));
</script>

<style>
* { box-sizing: border-box; margin: 0; padding: 0; }

/* –ü–æ–ª–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∫—Ä–æ–ª–ª–∞ + —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
html, body {
  overflow: hidden !important;
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  width: 100%;
  height: var(--app-height, 100vh);
  font-family: 'Segoe UI', sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background: linear-gradient(135deg, #9d81ba, #4b0066);
  color: white;
  user-select: none;
  touch-action: none; /* –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–∞–Ω-–∂–µ—Å—Ç—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
}




h1 {
  font-family: 'Comfortaa', cursive; /* –î–æ–±–∞–≤–∏–ª–∏ —à—Ä–∏—Ñ—Ç */
  font-weight: 400; /* –ß—É—Ç—å —Ç–æ–Ω—å—à–µ, —á—Ç–æ–±—ã –≤—ã–≥–ª—è–¥–µ–ª–æ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ */
  font-size: 1.8em;
  margin-bottom: 5px;
  position: relative;
  z-index: 1;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
}

.countdown {
  /* --- –®–†–ò–§–¢ –ò –¢–ï–ö–°–¢ (–í–∞—Ä–∏–∞–Ω—Ç 1) --- */
  font-family: 'Comfortaa', cursive;
  font-weight: 700;
  font-size: 1.4em;
  letter-spacing: 2px;
  /* –õ–µ–≥–∫–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ —Å–∞–º–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ */
  text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);

  /* --- –°–¢–ï–ö–õ–Ø–ù–ù–ê–Ø –ü–õ–ê–®–ö–ê (–í–∞—Ä–∏–∞–Ω—Ç 2) --- */
  background: rgba(255, 255, 255, 0.12); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
  backdrop-filter: blur(12px);           /* –†–∞–∑–º—ã—Ç–∏–µ —Ñ–æ–Ω–∞ –ø–æ–¥ —Ç–∞–π–º–µ—Ä–æ–º */
  -webkit-backdrop-filter: blur(12px);   /* –î–ª—è Safari */
  border-radius: 25px;                   /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
  border: 1px solid rgba(255, 255, 255, 0.3); /* –¢–æ–Ω–∫–∞—è —Å–≤–µ—Ç—è—â–∞—è—Å—è —Ä–∞–º–∫–∞ */
  
  /* –û—Ç—Å—Ç—É–ø—ã, —á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –Ω–µ –ø—Ä–∏–ª–∏–ø–∞–ª –∫ —Ä–∞–º–∫–µ */
  padding: 15px 40px;
  
  /* –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ */
  display: inline-block; /* –ü–ª–∞—à–∫–∞ –æ–±–ª–µ–≥–∞–µ—Ç —Ç–µ–∫—Å—Ç */
  margin: 15px 0 25px 0;
  position: relative;
  z-index: 10; /* –ü–æ–≤–µ—Ä—Ö –≥–æ—Ä */
  
  /* --- –ê–ù–ò–ú–ê–¶–ò–Ø (–û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è) --- */
  /* –¢–∞–π–º–µ—Ä –±—É–¥–µ—Ç –ø–ª–∞–≤–Ω–æ "–¥—ã—à–∞—Ç—å" –∏ –ø—É–ª—å—Å–∏—Ä–æ–≤–∞—Ç—å —Å–≤–µ—Ç–æ–º */
  animation: magicGlow 4s ease-in-out infinite;
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ –¥—ã—Ö–∞–Ω–∏—è */
@keyframes magicGlow {
  0% {
    transform: scale(1);
    border-color: rgba(255, 255, 255, 0.3);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
  }
  50% {
    transform: scale(1.03); /* –ß—É—Ç—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è */
    border-color: rgba(255, 255, 255, 0.6); /* –†–∞–º–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —è—Ä—á–µ */
    box-shadow: 
      0 8px 32px 0 rgba(0, 0, 0, 0.2),
      0 0 20px rgba(255, 150, 200, 0.3); /* –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ä–æ–∑–æ–≤–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ */
  }
  100% {
    transform: scale(1);
    border-color: rgba(255, 255, 255, 0.3);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
  }
}

.label {
  font-size: 0.9em;
  opacity: 0.7;
  position: relative;
  z-index: 1;
  margin-bottom: 15px;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.bg-element { position:absolute; border-radius:15px; pointer-events:none; }
.square { background: rgba(255,255,255,0.1); animation: floatSquare linear infinite alternate; }
@keyframes floatSquare { from{transform:translateY(0) translateX(0); opacity:0.05;} to{transform:translateY(-20px) translateX(20px); opacity:0.15;} }

/* CSS—Å–Ω–∞—è –∞–Ω–∏–º–∫–∞ */
/*.heart-bg { font-size:30px; color: rgba(255,100,150,0.3); animation: floatHeart linear infinite alternate; } */
/*@keyframes floatHeart { from{transform:translateY(0) translateX(0) rotate(0deg); opacity:0.3;} to{transform:translateY(-30px) translateX(20px) rotate(20deg); opacity:0.6;} }*/

.heart-bg {
  position: absolute;
  font-size: 30px;
  color: rgba(255,100,150,0.180);
  pointer-events: none;
  transform: translate(-50%, -50%);
  z-index: 0;
}

.twinkling-star {
  position: absolute;
  color: white;
  font-size: 10px;
  pointer-events: none;
  z-index: -1;
  opacity: 0; /* –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äî –Ω–µ–≤–∏–¥–∏–º—ã */
  text-shadow: 0 0 8px rgba(255, 255, 255, 0.8),
               0 0 16px rgba(255, 255, 255, 0.6),
               0 0 24px rgba(200, 200, 255, 0.4);
  animation: twinkle var(--duration, 2s) infinite ease-in-out;
}

@keyframes twinkle {
  0%, 100% { opacity: var(--min-opacity, 0.2); transform: scale(1); }
  50%      { opacity: var(--max-opacity, 1);   transform: scale(1.1); }
}

.shooting-star {
  position: absolute;
  width: 120px;
  height: 2px;
  /* –£–±–∏—Ä–∞–µ–º background, –∏—Å–ø–æ–ª—å–∑—É–µ–º box-shadow –∏–ª–∏ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç */
  background: transparent;
  border-radius: 50%;
  pointer-events: none;
  z-index: 0;
  transform-origin: 0 1px; /* –≤–∞–∂–Ω–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞ –∏–∑ –Ω–∞—á–∞–ª–∞ */
}

.shooting-star::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(to right, rgba(255, 255, 255, 0.9), transparent);
  border-radius: 50%;
}



.particle { width:3px; height:3px; background:rgba(255,255,255,0.5); border-radius:50%; position:absolute; pointer-events:none; animation: floatParticle linear infinite; }
@keyframes floatParticle { from{transform:translateY(0); opacity:0.3;} to{transform:translateY(-50px); opacity:0;} }

.heart-click { position:absolute; font-size:20px; color:rgba(255,50,150,0.8); pointer-events:none; }
.sun, .moon { position:absolute; width:60px; height:60px; border-radius:50%; z-index:0; transition: opacity 2s linear; }
.sun { background: radial-gradient(circle, #FFD700, #FFA500); box-shadow:0 0 50px 20px rgba(255,223,0,0.4);}
.moon { background: radial-gradient(circle, #EEEEFF, #AAAAFF); box-shadow:0 0 40px 15px rgba(200,200,255,0.3); }

.main-heart { font-size:50px; animation:pulse 1.5s infinite; margin-bottom:10px; position:relative; z-index:1; }
@keyframes pulse { 0%{transform:scale(1);} 50%{transform:scale(1.2);} 100%{transform:scale(1);} }

@keyframes heartSwap {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(0.7);
    opacity: 0;
  }
  51% {
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}
.main-heart.swapping {
  animation: heartSwap 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

#toggleSlider {
  position: fixed;
  top: 10px;
  right: 10px;
  z-index: 1000;
  width: 35px;
  height: 35px;
  background: rgba(255,255,255,0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
#toggleSlider:hover { background: rgba(255,255,255,0.35); }
#toggleSlider span { font-size:18px; color:white; }

#sliderContainer {
  position: fixed;
  bottom: 10px;
  left: 5%;
  width: 90%;
  z-index: 1000;
  text-align: center;
  visibility: hidden;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}
#sliderContainer.visible {
  visibility: visible;
  opacity: 1;
  pointer-events: auto;
}
#timeSlider { width: 100%; }
#timeLabel { color: white; margin-top: 5px; font-size: 0.9em; }

.heart-piece { position: absolute; font-size: 35px; cursor: pointer; transition: transform 0.2s; }

@keyframes appearHeart {
  0% {
    transform: scale(0.2);
    opacity: 0;
  }
  70% {
    transform: scale(1.3);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.heart-piece.appear {
  animation: appearHeart 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}


/* ‚úâÔ∏è –ö–æ–Ω–≤–µ—Ä—Ç—ã */
.envelope {
  position: absolute;
  font-size: 32px;
  opacity: 0;
  transform: scale(0.2) rotate(-10deg);
  cursor: pointer;
  z-index: 10;
  animation: appearEnvelope 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes appearEnvelope {
  0% {
    opacity: 0;
    transform: scale(0.2) rotate(-10deg);
  }
  70% {
    opacity: 1;
    transform: scale(1.1) rotate(5deg);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}

@keyframes disappearEnvelope {
  0% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
  100% {
    opacity: 0;
    transform: scale(0.3) rotate(20deg);
  }
}
.envelope.disappearing {
  animation: disappearEnvelope 0.6s cubic-bezier(0.5, 0, 0.8, 0.2) forwards;
}
@keyframes appear {
  to { opacity: 1; transform: scale(1); }
}

.message {
  position: absolute;
  font-size: 1em;
  background: rgba(255,255,255,0.15);
  padding: 8px 14px;
  border-radius: 12px;
  backdrop-filter: blur(4px);
  opacity: 0;
  transform: translateY(-10px);
  animation: fadeOut 3.5s forwards;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
  z-index: 100;
}
@keyframes fadeOut {
  10% { opacity: 1; transform: translateY(-20px); }
  90% { opacity: 1; }
  100% { opacity: 0; transform: translateY(-40px); }
}

.version {
  position: fixed;
  bottom: 8px;
  right: 10px;
  font-size: 0.7em;
  opacity: 0.4;
  color: white;
  z-index: 1;
  pointer-events: none;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* --- –ì–û–†–´ --- */
.mountains-container {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 35vh; /* –ó–∞–Ω–∏–º–∞—é—Ç 35% –≤—ã—Å–æ—Ç—ã —ç–∫—Ä–∞–Ω–∞ */
  z-index: 0; /* –ü–æ–≤–µ—Ä—Ö —Å–æ–ª–Ω—Ü–∞, –Ω–æ –ø–æ–¥ —Ç–µ–∫—Å—Ç–æ–º */
  pointer-events: none; /* –ß—Ç–æ–±—ã –∫–ª–∏–∫–∏ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ —Å–∫–≤–æ–∑—å –Ω–∏—Ö */
  overflow: hidden;
}

.mountain-svg {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

/* –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤ –¥–ª—è —Å–ª–æ–µ–≤ –≥–æ—Ä */
.mtn-back {
  fill: var(--mtn-back-col, rgba(60, 20, 80, 0.5));
  transform-origin: bottom;
  animation: floatMt 10s ease-in-out infinite alternate;
  transition: fill 2s linear; /* –ü–ª–∞–≤–Ω–∞—è —Å–º–µ–Ω–∞ —Ü–≤–µ—Ç–∞ */
}
.mtn-mid {
  fill: var(--mtn-mid-col, rgba(40, 10, 60, 0.7));
  transform-origin: bottom;
  animation: floatMt 8s ease-in-out infinite alternate-reverse;
  transition: fill 2s linear;
}
.mtn-front {
  fill: var(--mtn-front-col, rgba(20, 5, 35, 0.9));
  transition: fill 2s linear;
}

/* –õ–µ–≥–∫–æ–µ –¥—ã—Ö–∞–Ω–∏–µ –≥–æ—Ä */
@keyframes floatMt {
  from { transform: scaleY(1); }
  to { transform: scaleY(1.02); }
}

/* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö: —á—É—Ç—å –≤—ã—à–µ –≥–æ—Ä—ã */
@media (max-width: 600px) {
  .mountains-container {
    height: 30vh;
  }
}

/* --- –¢–£–ú–ê–ù --- */
.fog-container {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 15vh; /* –í—ã—Å–æ—Ç–∞ —Ç—É–º–∞–Ω–∞ */
  z-index: 1; /* –ü–æ–≤–µ—Ä—Ö –∑–∞–¥–Ω–∏—Ö –≥–æ—Ä, –Ω–æ –ø–æ–¥ –ø–µ—Ä–µ–¥–Ω–∏–º–∏ */
  pointer-events: none;
  overflow: hidden;
}

.fog-layer {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 200%;
  height: 100%;
  /* –¶–≤–µ—Ç —Ç—É–º–∞–Ω–∞ —Ç–æ–∂–µ —Å–¥–µ–ª–∞–µ–º —É–ø—Ä–∞–≤–ª—è–µ–º—ã–º, —á—Ç–æ–±—ã –¥–Ω–µ–º –æ–Ω –±—ã–ª –∑–∞–º–µ—Ç–Ω–µ–µ */
  background: linear-gradient(to top, var(--fog-col, rgba(255,255,255,0.4)) 0%, rgba(255,255,255,0.2) 40%, transparent 100%);
  animation: moveFog 30s linear infinite alternate;
  opacity: var(--fog-opacity, 1);
  transition: opacity 3s linear, background 3s linear;
}

.fog-layer.second {
  background: linear-gradient(to top, rgba(75, 0, 102, 0.2) 0%, transparent 100%);
  animation-duration: 45s;
  animation-direction: alternate-reverse;
  bottom: -10px;
}

@keyframes moveFog {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50px); }
}

/* --- –î–û–ú–ò–ö --- */
.cabin-container {
  position: absolute;
  bottom: 3vh; /* –ß—É—Ç—å –≤—ã—à–µ –Ω–∏–∂–Ω–µ–≥–æ –∫—Ä–∞—è */
  right: 10%; /* –°–¥–≤–∏–Ω—É—Ç –≤–ø—Ä–∞–≤–æ */
  width: 40px;
  height: 30px;
  z-index: 0; /* –ù–∞ —É—Ä–æ–≤–Ω–µ –≥–æ—Ä */
  opacity: 0.9;
}

/* –ö—Ä—ã—à–∞ –∏ —Å—Ç–µ–Ω—ã */
.cabin-shape {
  width: 0; 
  height: 0; 
  border-left: 20px solid transparent;
  border-right: 20px solid transparent;
  border-bottom: 20px solid var(--cabin-col, #140523); /* –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è */
  position: absolute;
  top: -15px;
  transition: border-bottom-color 2s linear;
}
.cabin-body {
  width: 30px;
  height: 20px;
  background-color: var(--cabin-col, #140523); /* –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è */
  position: absolute;
  left: 5px;
  top: 5px;
  transition: background-color 2s linear;
}
/* –¢—Ä—É–±–∞ */
.cabin-chimney {
  width: 6px;
  height: 12px;
  background-color: var(--cabin-col, #140523); /* –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è */
  position: absolute;
  top: -8px;
  right: 8px;
  transition: background-color 2s linear;
}
/* –°–≤–µ—Ç—è—â–µ–µ—Å—è –æ–∫–Ω–æ */
.cabin-window {
  width: 8px;
  height: 8px;
  background-color: #FFD700; /* –ñ–µ–ª—Ç—ã–π —Å–≤–µ—Ç */
  position: absolute;
  top: 8px;
  left: 16px;
  border-radius: 1px;
  box-shadow: 0 0 10px 2px rgba(255, 215, 0, 0.6); /* –°–≤–µ—á–µ–Ω–∏–µ */
  animation: flickerWindow 4s infinite alternate;
}
/* –î—ã–º –∏–∑ —Ç—Ä—É–±—ã */
.cabin-smoke {
  position: absolute;
  top: -15px;
  right: 8px;
  width: 6px;
  height: 6px;
  background: rgba(255,255,255,0.4);
  border-radius: 50%;
  animation: smokeRise 3s infinite;
  opacity: 0;
}

@keyframes flickerWindow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
  52% { opacity: 0.9; }
  54% { opacity: 0.7; }
}

@keyframes smokeRise {
  0% { transform: translateY(0) scale(1); opacity: 0.5; }
  100% { transform: translateY(-20px) scale(2); opacity: 0; }
}


/* --- –°–ù–ï–ñ–ò–ù–ö–ò --- */
.snowflake {
  position: absolute;
  top: -20px;
  color: white;
  pointer-events: none;
  z-index: 2; /* –ü–æ–≤–µ—Ä—Ö –≥–æ—Ä, –Ω–æ –ø–æ–¥ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ */
  font-family: Arial, sans-serif; /* –ß—Ç–æ–±—ã —Å–∏–º–≤–æ–ª –≤—ã–≥–ª—è–¥–µ–ª –æ–¥–∏–Ω–∞–∫–æ–≤–æ */
  text-shadow: 0 0 5px rgba(255,255,255,0.8);
  animation: fall linear forwards;
}

@keyframes fall {
  0% { transform: translateY(-20px) translateX(0) rotate(0deg); }
  25% { transform: translateY(25vh) translateX(15px) rotate(45deg); }
  50% { transform: translateY(50vh) translateX(-15px) rotate(90deg); }
  75% { transform: translateY(75vh) translateX(15px) rotate(135deg); }
  100% { transform: translateY(110vh) translateX(0) rotate(180deg); }
}

</style>
</head>
<body>

<h1>–î–æ –Ω–∞—à–µ–π –≤—Å—Ç—Ä–µ—á–∏ –æ—Å—Ç–∞–ª–æ—Å—å:</h1>
<div class="countdown" id="timer">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
<div class="main-heart">‚ù§Ô∏è</div>
<div class="label">31 –∞–≤–≥—É—Å—Ç–∞ 2026</div>

<div class="sun"></div>
<div class="moon"></div>

<div class="mountains-container">
  
<div class="fog-container">
  <div class="fog-layer"></div>
  <div class="fog-layer second"></div>
</div>

  <svg class="mountain-svg" viewBox="0 0 1440 320" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
    <path class="mtn-back" d="M0,192L48,197.3C96,203,192,213,288,229.3C384,245,480,267,576,250.7C672,235,768,181,864,181.3C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
    
    <path class="mtn-mid" d="M0,224L60,213.3C120,203,240,181,360,186.7C480,192,600,224,720,218.7C840,213,960,171,1080,160C1200,149,1320,171,1380,181.3L1440,192L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"></path>
    
    <path class="mtn-front" d="M0,256L80,245.3C160,235,320,213,480,218.7C640,224,800,256,960,261.3C1120,267,1280,245,1360,234.7L1440,224L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"></path>
  </svg>
  <div class="cabin-container">
        <div class="cabin-chimney"></div>
        <div class="cabin-shape"></div>
        <div class="cabin-body"></div>
        <div class="cabin-window"></div>
        <div class="cabin-smoke"></div>
    </div>
</div>


<div id="toggleSlider"><span>üåô</span></div>
<div id="sliderContainer">
  <input type="range" min="0" max="23.99" step="0.01" id="timeSlider">
  <div id="timeLabel">–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: --:--</div>
</div>

<script>
// -------------------- –¢–∞–π–º–µ—Ä --------------------
function updateCountdown(){
  const target = new Date('2026-08-31T00:00:00');
  const now = new Date();
  const diff = target - now;
  if(diff <= 0){ 
    document.getElementById('timer').innerText = "–°–µ–≥–æ–¥–Ω—è üíñ"; 
    return; 
  }
  const d = Math.floor(diff / (1000 * 60 * 60 * 24));
  const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
  const m = Math.floor((diff / (1000 * 60)) % 60);
  const s = Math.floor((diff / 1000) % 60);
  document.getElementById('timer').innerText = `${d}–¥ ${h}—á ${m}–º ${s}—Å`;
}
setInterval(updateCountdown, 1000);
updateCountdown();

// -------------------- –§–æ–Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã --------------------
function createSquares(n){
  for(let i = 0; i < n; i++){
    const sq = document.createElement('div');
    sq.classList.add('bg-element','square');
    const size = 20 + Math.random() * 60;
    sq.style.width = sq.style.height = size + 'px';
    sq.style.top = Math.random() * (window.innerHeight - size) + 'px';
    sq.style.left = Math.random() * (window.innerWidth - size) + 'px';
    sq.style.animationDuration = (8 + Math.random() * 5) + 's';
    sq.style.opacity = 0.05 + Math.random() * 0.15;
    document.body.appendChild(sq);
  }
}
let floatingHearts = [];
const HEART_COUNT = 12;
const WIND_INTERVAL = 5000; // –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ ‚Äî –Ω–æ–≤—ã–π –∏–º–ø—É–ª—å—Å
const REPULSION_RADIUS = 150;
const REPULSION_STRENGTH = 5000;

function createHearts(n) {
  for (let i = 0; i < n; i++) {
    const h = document.createElement('div');
    h.classList.add('heart-bg');
    h.innerText = '‚ù§Ô∏è';
    // –†–∞–∑–º–µ—Ä –∫–∞–∫ –≤ index.txt: –æ—Ç ~30px –¥–æ ~60px
    const size = 30 + Math.random() * 30;
    h.style.fontSize = size + 'px';
    h.style.opacity = 0.3 + Math.random() * 0.3;
    document.body.appendChild(h);
    floatingHearts.push({
      el: h,
      x: Math.random() * window.innerWidth,
      y: Math.random() * window.innerHeight,
      // –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ–µ, –ø–æ—á—Ç–∏ –Ω–µ–∑–∞–º–µ—Ç–Ω–æ–µ –Ω–∞—á–∞–ª—å–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
      vx: (Math.random() - 0.5) * 2,  // –ë—ã–ª–æ *10 ‚Üí —Ç–µ–ø–µ—Ä—å *2
      vy: (Math.random() - 0.5) * 2,
      size: size
    });
  }
  requestAnimationFrame(animateHearts);
}

function animateHearts() {
  for (const heart of floatingHearts) {
    // –û—á–µ–Ω—å —Å–ª–∞–±–æ–µ –∑–∞—Ç—É—Ö–∞–Ω–∏–µ ‚Äî –ø–æ—á—Ç–∏ –Ω–µ–∑–∞–º–µ—Ç–Ω–æ–µ, –Ω–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç "—Ä–∞–∑–≥–æ–Ω"
    heart.vx *= 0.995;  // –ë—ã–ª–æ 0.92 ‚Üí —Ç–µ–ø–µ—Ä—å 0.995
    heart.vy *= 0.995;

    // –ü–ª–∞–≤–Ω–æ–µ "–¥—Ä–µ–π—Ñ–æ–≤–æ–µ" –¥–≤–∏–∂–µ–Ω–∏–µ (–∏–º–∏—Ç–∞—Ü–∏—è CSS alternate)
    // –î–æ–±–∞–≤–∏–º tiny random drift –∫–∞–∂–¥—ã–µ –∫–∞–¥—Ä—ã ‚Äî –Ω–æ –æ—á–µ–Ω—å —Å–ª–∞–±–æ
    if (Math.random() < 0.02) { // —Ä–∞–∑ –≤ ~50 –∫–∞–¥—Ä–æ–≤
      heart.vx += (Math.random() - 0.5) * 0.5;
      heart.vy += (Math.random() - 0.5) * 0.5;
    }

    // –û–≥—Ä–∞–Ω–∏—á–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ —Ä—ã–≤–∫–æ–≤
    const maxSpeed = 3;
    const speed = Math.hypot(heart.vx, heart.vy);
    if (speed > maxSpeed) {
      heart.vx = (heart.vx / speed) * maxSpeed;
      heart.vy = (heart.vy / speed) * maxSpeed;
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏
    heart.x += heart.vx;
    heart.y += heart.vy;

    // –ú—è–≥–∫–∏–π –æ—Ç—Å–∫–æ–∫ –æ—Ç –∫—Ä–∞—ë–≤
    if (heart.x < 0) { heart.x = 0; heart.vx = Math.abs(heart.vx) * 0.4; }
    if (heart.x > window.innerWidth) { heart.x = window.innerWidth; heart.vx = -Math.abs(heart.vx) * 0.4; }
    if (heart.y < 0) { heart.y = 0; heart.vy = Math.abs(heart.vy) * 0.4; }
    if (heart.y > window.innerHeight) { heart.y = window.innerHeight; heart.vy = -Math.abs(heart.vy) * 0.4; }

    // –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é
    heart.el.style.left = heart.x + 'px';
    heart.el.style.top = heart.y + 'px';
  }
  requestAnimationFrame(animateHearts);
}
function createParticles(n){
  for(let i = 0; i < n; i++){
    const p = document.createElement('div');
    p.classList.add('particle');
    p.style.top = Math.random() * (window.innerHeight - 3) + 'px';
    p.style.left = Math.random() * (window.innerWidth - 3) + 'px';
    p.style.animationDuration = (5 + Math.random() * 5) + 's';
    document.body.appendChild(p);
  }
}
createSquares(10);
createHearts(12);
createParticles(50);

// -------------------- –†–∞–∑–ª–µ—Ç–∞—é—â–∏–µ—Å—è —Å–µ—Ä–¥–µ—á–∫–∏ --------------------
function createClickHearts(x, y){
  for(let i = 0; i < 15; i++){
    const h = document.createElement('div');
    h.classList.add('heart-click');
    h.innerText = '‚ù§Ô∏è';
    const size = 15 + Math.random() * 25;
    h.style.fontSize = size + 'px';
    h.style.left = x + 'px';
    h.style.top = y + 'px';
    document.body.appendChild(h);
    const dx = (Math.random() - 0.5) * 200;
    const dy = (Math.random() - 0.5) * 200;
    const dur = 1000 + Math.random() * 1000;
    h.animate([
      { transform: 'translate(0,0)', opacity: 1 },
      { transform: `translate(${dx}px, ${dy}px)`, opacity: 0 }
    ], { duration: dur, easing: 'ease-out', fill: 'forwards' });
    setTimeout(() => h.remove(), dur);
  }
}

// -------------------- –û—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã—Ö —Å–µ—Ä–¥–µ—Ü --------------------

function repulseHearts(x, y) {
  for (const heart of floatingHearts) {
    const dx = heart.x - x;
    const dy = heart.y - y;
    const dist = Math.hypot(dx, dy);
    if (dist < REPULSION_RADIUS && dist > 0) {
      const force = REPULSION_STRENGTH / (dist + 10); // +10 —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥–µ–ª–µ–Ω–∏—è –Ω–∞ 0
      heart.vx += (dx / dist) * force * 0.016; // 0.016 ‚âà dt –¥–ª—è 60 FPS
      heart.vy += (dy / dist) * force * 0.016;
    }
  }
}



// -------------------- –ï–î–ò–ù–´–ô –û–ë–†–ê–ë–û–¢–ß–ò–ö –° –ò–°–ö–õ–Æ–ß–ï–ù–ò–ï–ú –î–õ–Ø –¶–ï–ù–¢–†–ê–õ–¨–ù–û–ì–û –°–ï–†–î–¶–ê --------------------

function handleInteraction(x, y) {
  createClickHearts(x, y);   // —Ä–∞–∑–ª—ë—Ç
  repulseHearts(x, y);       // –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã—Ö —Å–µ—Ä–¥–µ—Ü
}

document.body.addEventListener('click', e => {
  if (e.target.classList.contains('main-heart')) {
    changeMainHeart();
  } else {
    handleInteraction(e.clientX, e.clientY);
  }
});

document.body.addEventListener('touchstart', e => {
  if (e.touches.length === 1 && e.touches[0].target.classList.contains('main-heart')) {
    changeMainHeart();
    e.preventDefault();
  } else {
    for (let touch of e.touches) {
      handleInteraction(touch.clientX, touch.clientY);
    }
  }
}, { passive: false });



// -------------------- –°–æ–ª–Ω—Ü–µ –∏ –õ—É–Ω–∞ --------------------
const sun = document.querySelector('.sun');
const moon = document.querySelector('.moon');
const slider = document.getElementById('timeSlider');
const timeLabel = document.getElementById('timeLabel');
const toggleBtn = document.getElementById('toggleSlider');
const sliderContainer = document.getElementById('sliderContainer');
let manualTime = null;

// –ó–í–ï–ó–î–´ –ù–û–ß–ù–´–ï

// --- –ó–í–Å–ó–î–´ (–ù–û–í–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø) ---
let backgroundStars = [];
let starsInitialized = false; // –∑–≤—ë–∑–¥—ã —Å–æ–∑–¥–∞–Ω—ã —Ö–æ—Ç—è –±—ã —Ä–∞–∑?
let currentStarOpacity = 0;

function initBackgroundStars(count = 80) {
  if (starsInitialized) return;
  starsInitialized = true;

  for (let i = 0; i < count; i++) {
    const star = document.createElement('div');
    star.classList.add('twinkling-star');
    star.innerText = '‚òÖ';

    const x = Math.random() * 100;
    const y = Math.random() * 50;
    star.style.left = `${x}vw`;
    star.style.top = `${y}vh`;

    const normalizedY = y / 50;
    const baseOpacity = 0.8 * (1 - normalizedY);
    const minOpacity = baseOpacity * 0.3;
    const maxOpacity = baseOpacity;
    const duration = 1.5 + Math.random() * 2.5;

    star.style.setProperty('--min-opacity', String(minOpacity));
    star.style.setProperty('--max-opacity', String(maxOpacity));
    star.style.setProperty('--duration', `${duration}s`);

    // –ù–∞—á–∏–Ω–∞–µ–º —Å opacity: 0, –Ω–æ transition —É–∂–µ –≤–∫–ª—é—á—ë–Ω
    star.style.opacity = '0';
    star.style.transition = 'opacity 2s ease-in-out';

    document.body.appendChild(star);
    backgroundStars.push({ el: star, baseOpacity });
  }
}

function updateStarsOpacity(targetOpacity) {
  if (!starsInitialized) return;
  if (Math.abs(targetOpacity - currentStarOpacity) < 0.01) return;
  currentStarOpacity = targetOpacity;

  backgroundStars.forEach(({ el, baseOpacity }) => {
    const finalOpacity = baseOpacity * targetOpacity;
    el.style.opacity = String(finalOpacity);
    // –û—Ç–∫–ª—é—á–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é, –µ—Å–ª–∏ –∑–≤–µ–∑–¥–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç–∞
    if (targetOpacity <= 0) {
      el.style.animation = 'none';
    } else {
      // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
      const duration = el.style.getPropertyValue('--duration') || '2s';
      el.style.animation = `twinkle ${duration} infinite ease-in-out`;
    }
  });
}







toggleBtn.addEventListener('click', () => {
  sliderContainer.classList.toggle('visible');
});

slider.addEventListener('input', () => {
  manualTime = parseFloat(slider.value);
  updateSunMoon();
});


// –õ–£–ù–ê –ò –°–û–õ–ù–¶–ï–ï–ï–ï–ï
function updateSunMoon(){
  const now = new Date();
  const hours = manualTime !== null ? manualTime : now.getHours() + now.getMinutes() / 60;
  timeLabel.innerText = `–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: ${Math.floor(hours)}:${Math.floor((hours % 1) * 60).toString().padStart(2, '0')}`;

  sun.style.opacity = (hours >= 6 && hours <= 18) ? 1 : 0;
  moon.style.opacity = (hours < 6 || hours > 18) ? 1 : 0;

  const sunY = (hours >= 6 && hours <= 18)
    ? 50 - 50 * Math.cos(((hours - 6) / 12) * Math.PI)
    : 150;
  const moonY = (hours < 6)
    ? 50 - 50 * Math.cos(((hours + 6) / 12) * Math.PI)
    : (hours > 18)
      ? 50 - 50 * Math.cos(((hours - 18) / 12) * Math.PI)
      : 150;
  sun.style.top = sunY + '%';
  moon.style.top = moonY + '%';

  const dayColor = hexToRgb('#9d81ba');
  const sunsetColor = hexToRgb('#ba8181');
  const nightColor = hexToRgb('#22182c');
  const nightEnd = hexToRgb('#3b1f4d');
  let bgColor;
  if (hours >= 6 && hours < 15) {
    const t = (hours - 6) / 9;
    bgColor = blendColors(dayColor, sunsetColor, t);
  } else if (hours >= 15 && hours < 18) {
    const t = (hours - 15) / 3;
    bgColor = blendColors(sunsetColor, nightColor, t);
  } else if (hours >= 18) {
    const t = (hours - 18) / 12;
    bgColor = blendColors(nightColor, nightEnd, t);
  } else {
    const t = hours / 6;
    bgColor = blendColors(nightEnd, dayColor, t);
  }
  document.body.style.background = `linear-gradient(135deg, rgb(${bgColor.join(',')}), #4b0066)`;

// --- –£–ü–†–ê–í–õ–ï–ù–ò–ï –ó–í–Å–ó–î–ê–ú–ò ---
  if (hours < 6 || hours > 18) {
    // –ù–æ—á—å ‚Äî –∑–≤—ë–∑–¥—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã
    initBackgroundStars(80); // –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑
    // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å: –ø–æ–ª–Ω–∞—è –≤ –≥–ª—É–±–æ–∫—É—é –Ω–æ—á—å, —á–∞—Å—Ç–∏—á–Ω–∞—è –Ω–∞ –∑–∞–∫–∞—Ç–µ/—Ä–∞—Å—Å–≤–µ—Ç–µ
    let nightFactor;
    if (hours > 18) {
      nightFactor = Math.min(1, (hours - 18) / 3); // 18‚Äì21 ‚Üí 0‚Üí1
    } else {
      nightFactor = Math.min(1, (6 - hours) / 3); // 3‚Äì6 ‚Üí 1‚Üí0
    }
    updateStarsOpacity(nightFactor);
  } else {
    // –î–µ–Ω—å ‚Äî –∑–≤—ë–∑–¥—ã –Ω–µ–≤–∏–¥–∏–º—ã
    if (starsInitialized) {
      updateStarsOpacity(0);
    }
  }
// --- –ù–ê–ß–ê–õ–û –í–°–¢–ê–í–ö–ò: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ü–≤–µ—Ç–∞ –≥–æ—Ä –∏ –¥–æ–º–∏–∫–∞ ---
  
  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–≤–µ—Ç–∞ –¥–ª—è –î–ù–Ø (—Å–≤–µ—Ç–ª—ã–µ, —Å–∏—Ä–µ–Ω–µ–≤—ã–µ) –∏ –ù–û–ß–ò (—Ç–µ–º–Ω—ã–µ)
  // –§–æ—Ä–º–∞—Ç RGB –º–∞—Å—Å–∏–≤–æ–≤: [R, G, B]
  
  const cols = {
    day: {
      back: [170, 140, 190],  // –°–≤–µ—Ç–ª–æ-—Å–∏—Ä–µ–Ω–µ–≤—ã–π (–¥–∞–ª—å–Ω—è—è –≥–æ—Ä–∞)
      mid:  [130, 90, 160],   // –°—Ä–µ–¥–Ω–∏–π
      front:[100, 60, 130],   // –ë–ª–∏–∂–Ω–∏–π (–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–π —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)
      cabin:[110, 70, 120],   // –¶–≤–µ—Ç –¥–æ–º–∏–∫–∞ –¥–Ω–µ–º
      fog:  [255, 255, 255],  // –¢—É–º–∞–Ω –±–µ–ª—ã–π
      fogOp: 0.1             // –¢—É–º–∞–Ω –ø–ª–æ—Ç–Ω–µ–µ –¥–Ω–µ–º, —á—Ç–æ–±—ã –µ–≥–æ –±—ã–ª–æ –≤–∏–¥–Ω–æ
    },
    night: {
      back: [60, 20, 80],     // –¢–µ–º–Ω—ã–π (–∫–∞–∫ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ)
      mid:  [40, 10, 60],
      front:[20, 5, 35],
      cabin:[20, 5, 35],      // –î–æ–º–∏–∫ —Å–ª–∏–≤–∞–µ—Ç—Å—è —Å –ø–µ—Ä–µ–¥–Ω–µ–π –≥–æ—Ä–æ–π
      fog:  [255, 255, 255],
      fogOp: 0.8              // –ù–æ—á—å—é —Ç—É–º–∞–Ω –ø—Ä–æ–∑—Ä–∞—á–Ω–µ–µ
    }
  };

  // –í—ã—á–∏—Å–ª—è–µ–º –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç "–Ω–æ—á–∏" (0 = –¥–µ–Ω—å, 1 = –≥–ª—É—Ö–∞—è –Ω–æ—á—å)
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–≥–∏–∫—É, –ø–æ—Ö–æ–∂—É—é –Ω–∞ opacity –∑–≤–µ–∑–¥
  let t_mountains = 0; // 0 - —ç—Ç–æ –¥–µ–Ω—å
  
  if (hours < 6) { 
    // –æ—Ç 0 –¥–æ 6 —É—Ç—Ä–∞: –Ω–æ—á—å —É–±—ã–≤–∞–µ—Ç (1 -> 0) –∏–ª–∏ –ø–æ–ª–Ω–∞—è –Ω–æ—á—å
    // —É–ø—Ä–æ—Å—Ç–∏–º: –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç—É –∂–µ –ª–æ–≥–∏–∫—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, —á—Ç–æ –∏ —É –Ω–µ–±–∞
    t_mountains = 1; 
  } else if (hours >= 6 && hours < 9) {
    t_mountains = 1 - (hours - 6) / 3; // –†–∞—Å—Å–≤–µ—Ç: 1 -> 0
  } else if (hours >= 9 && hours < 17) {
    t_mountains = 0; // –î–µ–Ω—å
  } else if (hours >= 17 && hours < 21) {
    t_mountains = (hours - 17) / 4; // –ó–∞–∫–∞—Ç: 0 -> 1
  } else {
    t_mountains = 1; // –ù–æ—á—å
  }

  // –§—É–Ω–∫—Ü–∏—è —Å–º–µ—à–∏–≤–∞–Ω–∏—è (–æ–Ω–∞ —É–∂–µ –µ—Å—Ç—å —É —Ç–µ–±—è - blendColors, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë —Ç—É—Ç)
  const curBack = blendColors(cols.day.back, cols.night.back, t_mountains);
  const curMid  = blendColors(cols.day.mid,  cols.night.mid,  t_mountains);
  const curFrnt = blendColors(cols.day.front,cols.night.front,t_mountains);
  const curCab  = blendColors(cols.day.cabin,cols.night.cabin,t_mountains);
  
  // –¢—É–º–∞–Ω (—Ü–≤–µ—Ç + –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å)
  // –î–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º lerp (—Ñ—É–Ω–∫—Ü–∏—è —Ç–æ–∂–µ —É–∂–µ –µ—Å—Ç—å –≤ –∫–æ–¥–µ)
  const curFogOp = lerp(cols.day.fogOp, cols.night.fogOp, t_mountains);
  
  // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ CSS
  const r = document.documentElement.style;
  r.setProperty('--mtn-back-col', `rgb(${curBack.join(',')})`);
  r.setProperty('--mtn-mid-col',  `rgb(${curMid.join(',')})`);
  r.setProperty('--mtn-front-col',`rgb(${curFrnt.join(',')})`);
  r.setProperty('--cabin-col',    `rgb(${curCab.join(',')})`);
  r.setProperty('--fog-opacity',  curFogOp);
  
  // –¢—É–º–∞–Ω –º–æ–∂–Ω–æ —Å–ª–µ–≥–∫–∞ –ø–æ–¥–∫—Ä–∞—Å–∏—Ç—å –≤ —Ü–≤–µ—Ç –∑–∞–∫–∞—Ç–∞, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å, –Ω–æ –ø–æ–∫–∞ –æ—Å—Ç–∞–≤–∏–º –±–µ–ª—ã–º
  // r.setProperty('--fog-col', `rgba(255,255,255, ${curFogOp})`); 

  // --- –ö–û–ù–ï–¶ –í–°–¢–ê–í–ö–ò ---
}

setInterval(updateSunMoon, 1000);
updateSunMoon();

function hexToRgb(hex) {
  return hex.match(/\w\w/g).map(c => parseInt(c, 16));
}
function lerp(a, b, t) {
  return a + (b - a) * t;
}
function blendColors(c1, c2, t) {
  return c1.map((v, i) => Math.round(lerp(v, c2[i], t)));
}

// -------------------- –ú–∏–Ω–∏-–∏–≥—Ä–∞ "–°–æ–±–µ—Ä–∏ —Ä–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–µ —Å–µ—Ä–¥—Ü–∞" --------------------
const heartContainer = document.createElement('div');
document.body.appendChild(heartContainer);
let pieces = [];
const pieceCount = 4;
const heartEmojis = ['‚ù§Ô∏è','üß°','üíõ','üíö','üíô','üíú','ü§é','üñ§','ü§ç','üíñ','üíó','üíì','üíï','üíû','üíü'];
const starColors = ['#FFD700','#FFFF66','#FF66FF','#66FFFF','#FF99FF'];

function spawnHeartPuzzle(){
  pieces.forEach(p => p.el.remove());
  pieces = [];
  for(let i = 0; i < pieceCount; i++){
    const p = document.createElement('div');
    p.classList.add('heart-piece','appear');
    p.innerText = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
    const x = 50 + Math.random() * (window.innerWidth - 100);
    const y = 50 + Math.random() * (window.innerHeight - 100);
    p.style.left = x + 'px';
    p.style.top = y + 'px';
    heartContainer.appendChild(p);
    pieces.push({ el: p, connected: [i], x: x, y: y });
    makeDraggable(p, i);
  }
    // –£–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏, —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞—Ç—å drag-—Å—Ç–∏–ª—è–º
setTimeout(() => {
  document.querySelectorAll('.heart-piece').forEach(el => el.classList.remove('appear'));
}, 700); // —á—É—Ç—å –¥–æ–ª—å—à–µ –∞–Ω–∏–º–∞—Ü–∏–∏
}

function makeDraggable(el, index){
  let startX = 0, startY = 0, originalX = 0, originalY = 0, dragging = false;
  const pieceData = pieces[index];

  function startDrag(e){
    e.preventDefault();
    dragging = true;
    const t = e.touches ? e.touches[0] : e;
    startX = t.clientX; startY = t.clientY;
    originalX = pieceData.x; originalY = pieceData.y;
    el.style.zIndex = 1000;
    el.style.transform = 'scale(1.1)';
  }

  function drag(e){
    if (!dragging) return;
    e.preventDefault();
    const t = e.touches ? e.touches[0] : e;
    const dx = t.clientX - startX;
    const dy = t.clientY - startY;
    el.style.transform = `translate(${dx}px, ${dy}px) scale(1.1)`;
    pieceData.x = originalX + dx;
    pieceData.y = originalY + dy;
  }

  function stopDrag(){
    if (!dragging) return;
    dragging = false;
    el.style.zIndex = '';
    el.style.left = pieceData.x + 'px';
    el.style.top = pieceData.y + 'px';
    el.style.transform = '';
    checkConnection(index);
  }

  el.addEventListener('mousedown', startDrag);
  el.addEventListener('touchstart', startDrag, { passive: false });
  document.addEventListener('mousemove', drag);
  document.addEventListener('touchmove', drag, { passive: false });
  document.addEventListener('mouseup', stopDrag);
  document.addEventListener('touchend', stopDrag);
}

function checkConnection(idx){
  const threshold = 40;
  const current = pieces[idx];
  pieces.forEach((p, i) => {
    if (i === idx || current.connected.includes(i)) return;
    const dx = p.x - current.x;
    const dy = p.y - current.y;
    if (Math.hypot(dx, dy) < threshold) {
      const midX = current.x + dx / 2;
      const midY = current.y + dy / 2;
      current.x = midX; current.y = midY;
      p.x = midX; p.y = midY;
      current.el.style.left = midX + 'px';
      current.el.style.top = midY + 'px';
      p.el.style.left = midX + 'px';
      p.el.style.top = midY + 'px';
      const combinedSet = Array.from(new Set([...current.connected, ...p.connected]));
      pieces.forEach(piece => {
        if (combinedSet.includes(pieces.indexOf(piece))) {
          piece.connected = combinedSet;
        }
      });
    }
  });
  if (current.connected.length === pieceCount) {
    const centerX = current.x, centerY = current.y;
    pieces.forEach(p => p.el.remove());
    for (let i = 0; i < 30; i++) {
      const star = document.createElement('div');
      star.classList.add('heart-click');
      star.innerText = '‚≠ê';
      star.style.fontSize = (10 + Math.random() * 20) + 'px';
      star.style.color = starColors[Math.floor(Math.random() * starColors.length)];
      star.style.left = centerX + 'px';
      star.style.top = centerY + 'px';
      document.body.appendChild(star);
      const dx = (Math.random() - 0.5) * 200;
      const dy = (Math.random() - 0.5) * 200;
      const dur = 1000 + Math.random() * 1000;
      star.animate([
        { transform: 'translate(0,0)', opacity: 1 },
        { transform: `translate(${dx}px, ${dy}px)`, opacity: 0 }
      ], { duration: dur, easing: 'ease-out', fill: 'forwards' });
      setTimeout(() => star.remove(), dur);
    }
    setTimeout(spawnHeartPuzzle, 1000);
  }
}
spawnHeartPuzzle();

// -------------------- –°–ú–ï–ù–ê –¶–ï–ù–¢–†–ê–õ–¨–ù–û–ì–û –°–ï–†–î–¶–ê –° –ê–ù–ò–ú–ê–¶–ò–ï–ô --------------------
const mainHeart = document.querySelector('.main-heart');

function changeMainHeart() {
  if (mainHeart.classList.contains('swapping')) return; // –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∫–ª–∏–∫–∞

  mainHeart.classList.add('swapping');

  setTimeout(() => {
    const randomHeart = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
    mainHeart.innerText = randomHeart;
  }, 300); // –º–æ–º–µ–Ω—Ç –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è

  setTimeout(() => {
    mainHeart.classList.remove('swapping');
  }, 600); // –∫–æ–Ω–µ—Ü –∞–Ω–∏–º–∞—Ü–∏–∏
}

/* ------------------ ‚úâÔ∏è –°–æ–æ–±—â–µ–Ω–∏—è ------------------ */
const phrases = [
¬† "–Ø –¥—É–º–∞—é –æ —Ç–µ–±–µ üí≠",
¬† "–¢—ã - –º–æ—ë –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ üåô",
¬† "–°–∫–æ—Ä–æ –º—ã –±—É–¥–µ–º —Ä—è–¥–æ–º üíû",
¬† "–•–æ—á—É –æ–±–Ω—è—Ç—å —Ç–µ–±—è –∫—Ä–µ–ø–∫–æ –∫—Ä–µ–ø–∫–æ ü§ç",
¬† "–ú–∏—Ä —Å—Ç–∞–ª —è—Ä—á–µ —Å —Ç–æ–±–æ–π ‚ú®",
¬† "–õ—é–±–ª—é —Ç–µ–±—è üíú",
¬† "–¢—ã –º–æ—ë —á—É–¥–æ üå∏",
¬† "–ñ–¥—É —Å –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º üí´",
¬† "–ù–µ –∑–∞–±—ã–≤–∞–π. –¢–´ –ú–û–©–û–©–©–©–©üëæ",
¬† "–ú–´ –ú–û–©–û–©–©–©–©–©–©üëæ",
¬† "–Ø –æ–±–Ω–∏–º—É —Ç–µ–±—è –∫—Ä–µ–ø–∫–æ –∫—Ä–µ–ø–∫–æ –¥–æ —Å–º–µ—Ä—Ç–∏–∏–∏üíù",
¬† "–õ—é–ª—é —Ç–µ–±—è—è—èüíì",
¬† "–õ—éüíï",
¬† "–¢–∏ –º–æ–π –º–∏–ª—ã–π –ë—ç–±–µ–ª–ª—åü•∞",
¬† "–ú–æ–µ —Å–µ—Ä–¥–µ—à–∫–æ —Å—Ö–æ–¥–∏—Ç —Å —É–º–∞ –æ—Ç —Ç–µ–±—è —Ö—ã—Öüî•",
¬† "–í—Å–µ –±—É–¥–µ—Ç —Ö–æ—Ä–æ—à–æ, –Ω–µ –Ω–∞–∫—Ä—É—á–∏–≤–∞–π —Å–µ–±—è. –õ–∞–¥–Ω–æ?üëÄ",
¬† "–¢—ã –∫–∞–∫ —Å–∞—Ö–∞—Ä–æ–∫ –≤ –∫–æ—Ñ–µ ‚òïüç´",
¬† "–ù–µ –∑–∞–±—ã–≤–∞–π –∫—É—Ñ–∞—Ç—å, —Ö–æ–ª–æ—Å–æ?üç´",
¬† "–ú–µ—á—Ç–∞—é... –≤–∑—è—Ç—å —Ç–µ–±—è –∑–∞ —Ä—É–∫—É..",
¬† "–¢—ã –∞–∫—Ç–∏–≤–∏—Ä—É–µ—à—å –º–æ–π –≤–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ç–µ–≥–º–µ–Ω—Ç—É–º —Å–∏–ª—å–Ω–µ–µ, —á–µ–º –∫–æ—Ñ–µ–∏–Ω –∏ –¥–æ—Ñ–∞–º–∏–Ω –≤–º–µ—Å—Ç–µüíì",
¬† "–¢—ã –ø–æ–≤—ã—à–∞–µ—à—å –º–æ–π —É—Ä–æ–≤–µ–Ω—å —ç–Ω–¥–æ—Ä—Ñ–∏–Ω–æ–≤ üå∏",
¬† "–° —Ç–æ–±–æ–π PQRST –º–æ–µ–π –∂–∏–∑–Ω–∏ –∏–¥–µ–∞–ª–µ–Ω —ã—Ö—ã—Ö—ãüíï",
  "–¢–∏ –º–æ–π –ª—é–±–∏–º—ã–π –ª–µ—Ç—É—á–∏–π –∫–æ—Ç—ë–º—ã—Ñ—åüíì",
  "–õ—é–±–∏–º—ã–π –º–∞–ª—å—á–∏–∫ —Å –ø–∏–∑–¥–æ–πüëÄ",
];

// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫
const timePhrases = {
¬† morning: ["–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! ‚òÄÔ∏è –ü—É—Å—Ç—å –¥–µ–Ω—å –±—É–¥–µ—Ç —Å–ª–∞–¥–∫–∏–º!", "–°–æ–ª–Ω—ã—à–∫–æ, –ø—Ä–æ—Å—ã–ø–∞–π—Å—è üíõ"],
¬† day: ["–î–µ–Ω—å –ø—Ä–µ–∫—Ä–∞—Å–µ–Ω —Å —Ç–æ–±–æ–π üåº", "–ü—É—Å—Ç—å —Ç–≤–æ–π –¥–µ–Ω—å –±—É–¥–µ—Ç –ª—ë–≥–∫–∏–º üí´"],
¬† evening: ["–í–µ—á–µ—Ä–∫–æ–º –≤–º–µ—Å—Ç–µ —É—é—Ç–Ω–µ–µ üíñ", "–ù–æ—á—å –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è, –Ω–æ —è –¥—É–º–∞—é –æ —Ç–µ–±–µ üåô"],
¬† night: ["–°–ø–æ–∫–æ–π–Ω–æ–π –Ω–æ—á–∏. –ü–∏—Ç–µ –∫—Ä–µ–ø–∫–æ –∫—Ä–µ–ø–∫–æ üåå", "–°–ª–∞–¥–∫–∏—Ö —Å–Ω–æ–≤, –º–æ–π –ª—é–±–∏–º—ã–π –ë—ç–±–µ–ª–ª—å üò¥", "–ü–∏—Ç–µ –∫—Ä–µ–ø–∫–æ –∫—Ä–µ–ø–∫–æ–æ–æ–æ–æ–æüíñ", "–ê —á–µ–≥–æ –º—ã –Ω–µ –¥—Ä—ã—Ö–Ω–∏–∏–∏–º? –ê–∞–∞? –Ω–µ–±–æ—Å—å —É—á–∏—Ç–µ —à–æ —Ç–æ, –Ω—É –ª–∞–¥–Ω–∞–∞–∞. –õ—é —Ç–µ–±—èüíï –ü–æ—è–∑—è–∑ –Ω–µ –ø–æ–º—Ä–∏"]
};

// ------------------ –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ñ–ª–∞–≥ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–∫–∞ ------------------
let isFirstMessageShown = false;

// ------------------ –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ------------------
function getTimeOfDay() {
¬† const hours = new Date().getHours();
¬† if (hours >= 6 && hours < 12) return "morning";
¬† if (hours >= 12 && hours < 18) return "day";
¬† if (hours >= 18 && hours < 22) return "evening";
¬† return "night";
}

function getRandomBetween(min, max) {
¬† return Math.random() * (max - min) + min;
}

function getRandomPhrase() {
¬† // –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö (–Ω–µ –ø–µ—Ä–≤—ã—Ö) –∫–ª–∏–∫–æ–≤
¬† const allPhrases = [...phrases, ...timePhrases[getTimeOfDay()]];
¬† return allPhrases[Math.floor(Math.random() * allPhrases.length)];
}

// ------------------ –°–ø–∞–≤–Ω –∫–æ–Ω–≤–µ—Ä—Ç–∞ ------------------
function spawnEnvelope() {
  const e = document.createElement('div');
  e.classList.add('envelope');
  e.innerText = 'üíå';
  const safeMarginX = 150;
  const safeMarginY = 100;
  e.style.left = getRandomBetween(safeMarginX, window.innerWidth - safeMarginX) + 'px';
  e.style.top = getRandomBetween(safeMarginY, window.innerHeight - safeMarginY) + 'px';
  document.body.appendChild(e);

  let removed = false;

  function removeEnvelope() {
    if (removed) return;
    removed = true;
    e.classList.add('disappearing');
    e.addEventListener('animationend', () => e.remove(), { once: true });
  }

  function showMessage() {
    if (removed) return;
    removed = true;

    // üí• –í–∏–±—Ä–∞—Ü–∏—è (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
    if (navigator.vibrate) {
      navigator.vibrate([30, 20, 30]);
    }

    // –£–¥–∞–ª—è–µ–º –∫–æ–Ω–≤–µ—Ä—Ç –∫—Ä–∞—Å–∏–≤–æ
    e.classList.add('disappearing');
    e.addEventListener('animationend', () => e.remove(), { once: true });

    // –í—ã–±–æ—Ä —Ñ—Ä–∞–∑—ã
    let phrase;
    if (!isFirstMessageShown) {
      const timeOfDay = getTimeOfDay();
      const timeSpecificPhrases = timePhrases[timeOfDay];
      phrase = timeSpecificPhrases[Math.floor(Math.random() * timeSpecificPhrases.length)];
      isFirstMessageShown = true;
    } else {
      phrase = getRandomPhrase();
    }

    // –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    const msg = document.createElement('div');
    msg.classList.add('message');
    msg.innerText = phrase;
    let left = parseFloat(e.style.left);
    let top = parseFloat(e.style.top);
    const msgWidth = 220;
    if (left + msgWidth > window.innerWidth) left = window.innerWidth - msgWidth - 10;
    if (top > window.innerHeight - 80) top = window.innerHeight - 80;
    msg.style.left = left + 'px';
    msg.style.top = top + 'px';
    document.body.appendChild(msg);

    // –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    setTimeout(() => {
      if (msg.parentNode) msg.remove();
    }, 3500);
  }

  e.addEventListener('click', showMessage);
  setTimeout(removeEnvelope, 6000); // –∏—Å—á–µ–∑–∞–µ—Ç —á–µ—Ä–µ–∑ 6 —Å–µ–∫, –µ—Å–ª–∏ –Ω–µ –∫–ª–∏–∫–Ω—É–ª–∏
}


// ------------------ –†–∞–Ω–¥–æ–º–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–ø–∞–≤–Ω–∞ ------------------
function spawnLoop() {
¬† spawnEnvelope();
¬† const interval = getRandomBetween(2000, 60000); 
¬† setTimeout(spawnLoop, interval);
}


//–ü–∞–¥–µ–Ω–∏–µ –∑–≤–µ–∑–¥—ã

function spawnShootingStar() {
  const star = document.createElement('div');
  star.classList.add('shooting-star');

  // 1. –£–≥–æ–ª –≤ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º–µ (Y-–≤–≤–µ—Ä—Ö, 0¬∞ –≤–ø—Ä–∞–≤–æ)
  const angleMath = -20 - Math.random() * 140; // –æ—Ç -20¬∞ –¥–æ -160¬∞ 
  const radians = angleMath * Math.PI / 180;

  // 2. –£–≥–æ–ª –≤ CSS-—Å–∏—Å—Ç–µ–º–µ (Y-–≤–Ω–∏–∑, 0¬∞ –≤–ø—Ä–∞–≤–æ)
  // –û–Ω —è–≤–ª—è–µ—Ç—Å—è –∏–Ω–≤–µ—Ä—Å–∏–µ–π –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–≥–ª–∞
  const angleCSS = -angleMath;

  // 3. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å–º–µ—â–µ–Ω–∏–µ (delta)
  const w = window.innerWidth;
¬† const h = window.innerHeight;
¬† // –í—ã—á–∏—Å–ª—è–µ–º –∏—Å—Ç–∏–Ω–Ω—É—é –¥–∏–∞–≥–æ–Ω–∞–ª—å —ç–∫—Ä–∞–Ω–∞ –∏ –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∞—Å (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 1.5)
¬† const distance = Math.sqrt(w * w + h * h) * 1.5;
  const deltaX = Math.cos(radians) * distance;
  const deltaY = -Math.sin(radians) * distance; // -sin –¥–ª—è –∏–Ω–≤–µ—Ä—Å–∏–∏ Y-–æ—Å–∏

  // 4. –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
  const startX = Math.random() * (window.innerWidth * 1.5) - window.innerWidth * 0.25;
  const startY = -100;

  star.style.left = startX + 'px';
  star.style.top = startY + 'px';
  
  // 5. –ê–Ω–∏–º–∞—Ü–∏—è (–∏—Å–ø–æ–ª—å–∑—É–µ–º angleCSS –¥–ª—è rotate)
  star.animate([
    { transform: `translate(0, 0) rotate(${angleCSS + 180}deg)`, opacity: 1 },
    { transform: `translate(${deltaX}px, ${deltaY}px) rotate(${angleCSS + 180}deg)`, opacity: 0 }
  ], {
    duration: 2000, // [cite: 164]
    easing: 'cubic-bezier(0.5, 0, 0.8, 1)',
    fill: 'forwards'
  });
  
  document.body.appendChild(star); //[cite: 167]

  setTimeout(() => {
    if (star.parentNode) star.remove();
  }, 2000); //[cite: 168]
}


function shootingStarLoop() {
  // –ó–∞–ø—É—Å–∫–∞–µ–º –∑–≤–µ–∑–¥—É —Å—Ä–∞–∑—É
  spawnShootingStar();
  // –ò –∑–∞—Ç–µ–º –∫–∞–∂–¥—ã–µ 8‚Äì20 —Å–µ–∫—É–Ω–¥ (—á–∞—â–µ –Ω–æ—á—å—é)
  const now = new Date();
  const hours = manualTime !== null ? manualTime : now.getHours() + now.getMinutes() / 60;
  const isNight = hours < 6 || hours > 18;
  const interval = isNight 
    ? getRandomBetween(1000, 6000)   // –Ω–æ—á—å—é —á–∞—â–µ
    : getRandomBetween(15000, 40000); // –¥–Ω—ë–º —Ä–µ–∂–µ

  setTimeout(shootingStarLoop, interval);
}

// –ó–∞–ø—É—Å–∫
spawnLoop();
shootingStarLoop();

// -------------------- –°–ù–ï–ì–û–ü–ê–î --------------------
function createSnowflake() {
  const snowflake = document.createElement('div');
  snowflake.classList.add('snowflake');
  snowflake.innerText = '‚Ä¢'; // –ú–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ '‚Ä¢' –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Ç–æ—á–µ–∫
  
  // –†–∞–Ω–¥–æ–º–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  const size = Math.random() * 15 + 10; // –†–∞–∑–º–µ—Ä –æ—Ç 10 –¥–æ 25px
  snowflake.style.fontSize = size + 'px';
  snowflake.style.left = Math.random() * window.innerWidth + 'px';
  snowflake.style.opacity = Math.random() * 0.5 + 0.3; // –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
  
  // –°–∫–æ—Ä–æ—Å—Ç—å –ø–∞–¥–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ (–∫—Ä—É–ø–Ω—ã–µ –ø–∞–¥–∞—é—Ç –±—ã—Å—Ç—Ä–µ–µ)
  const duration = Math.random() * 10 + 20 + (30 - size) / 5; 
  snowflake.style.animationDuration = duration + 's';

  document.body.appendChild(snowflake);

  // –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
  setTimeout(() => {
    snowflake.remove();
  }, duration * 1000);
}

// –ó–∞–ø—É—Å–∫ —Å–Ω–µ–≥–æ–ø–∞–¥–∞ (–∏–Ω—Ç–µ—Ä–≤–∞–ª –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å: 200 - –≥—É—Å—Ç–æ–π, 800 - —Ä–µ–¥–∫–∏–π)
setInterval(createSnowflake, 600);
</script>




<div class="version">v1.4</div>
</body>
</html>













